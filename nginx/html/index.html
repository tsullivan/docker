<!DOCTYPE html>
<html lang='en'>
<head>
  <meta name='generator' content='HTML Tidy for HTML5 for Apple macOS version 5.6.0'>
  <meta charset='utf-8'>
  <title>Clock</title>
  <link rel='alternate' type='application/rss+xml' title='RSS' href='http://www.csszengarden.com/zengarden.xml'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta name='author' content='Tim Sullivan'>
  <meta name='robots' content='all'>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.5.5/rxjs.umd.min.js'></script>
</head>
<body id='clock'>
  <form action='#' method='post'>
    <input id='submitBtn' type='submit' />
  </form>

  <div class='page-wrapper'>
    <div id='clockTime'></div>
  </div>

  <script type='text/javascript'>

const run = () => {
  runFormTest();
};

function runFormTest() {
  rxjs.fromEvent(document.getElementById('submitBtn'), 'click').pipe(
    rxjs.operators.map(event => {
      event.preventDefault();
      return event;
    }),
    rxjs.operators.switchMap(event => {
      // return rxjs.ajax.ajax({
      //   url: 'https://virtual-spice/kibana/api/telemetry/v2/clusters/_stats',
      //   method: 'POST',
      //   headers: {
      //     'accept':'application/json, text/plain, */*',
      //     'accept-language':'en-US,en;q=0.9',
      //     'content-type':'application/json;charset=UTF-8',
      //     'kbn-version':'7.6.1',
      //   },
      //   body: '{\"unencrypted\":true,\"timeRange\":{\"min\":\"2020-04-07T17:59:26.386Z\",\"max\":\"2020-04-07T18:19:26.387Z\"}}',
      //   mode: 'cors'
      // }).pipe(
      //   rxjs.operators.map(statResponse => console.log('stats: ', statResponse)),
      //   rxjs.operators.catchError(error => {
      //     console.log('error: ', error);
      //     return rxjs.of(error);
      //   }))
      runClock();
    })
  ).subscribe();
}

function runClock() {
  const container = document.getElementById('clockTime');
  const faces = [ '🕙','🕗','🕑','🕗','🕓','🕞','🕛','🕑','🕣','🕔','🕟','🕝','🕔','🕡','🕤','🕕','🕠','🕗','🕛','🕛','🕦','🕓','🕢','🕝','🕠','🕡','🕟','🕖','🕚','🕞','🕗','🕧','🕦','🕞','🕓','🕚','🕚','🕗','🕘','🕧','🕢' ];
  let f = 0;
  window.setInterval(() => {
    const pos = f % faces.length;
    container.innerText = faces[pos];
    f++;
  }, 35);
}

run();

  </script>
</body>
</html>
